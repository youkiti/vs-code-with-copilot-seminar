# 2. 準備：必要なものをインストールしよう

このセクションでは、データ分析に必要なソフトをパソコンにインストールします。
初めて見る言葉がたくさん出てきますが、一つずつ順番に進めていけば大丈夫です。

## このセクションでやること

1. **GitHub（プログラムのSNS）のアカウントを作成**
2. **AIアシスタント（Copilot）の設定**
3. **プログラムの変更を記録するツール（Git）をインストール**
4. **データ分析の準備（R言語のインストール）**
5. **プログラムを書くための道具（VS Code）をインストール**

## 2.1 GitHubアカウントの作成

まず最初に、コードを管理・共有するためのGitHubアカウントを作成しましょう。
GitHubは、プログラマーが自分の作ったプログラム（コード）を保存したり、他の人と共有したりできるウェブサービスです。
例えるなら、**プログラマー向けのSNS**のようなものです。

### アカウント作成手順

1. **GitHubのウェブサイトにアクセス**
   - [GitHub](https://github.com/) にアクセスします。

2. **「Sign up」ボタンをクリック**
   - 画面の右上にある緑色の「Sign up」ボタンをクリックします。

3. **必要事項を入力**
   - **Username（ユーザー名）**: 他の人と重複しない、あなただけの名前を決めます。好きな英数字とハイフン(-)が使えます。
     - 例：`my-github-account`、`student-programmer123`
   - **Email（メールアドレス）**: 連絡が取れるメールアドレスを入力します。確認メールが届くので、すぐに確認できるアドレスがおすすめです。
   - **Password（パスワード）**: 安全なパスワードを設定します。他の人に推測されにくい、長く複雑なパスワードがおすすめです。
   - **「Create account」ボタンをクリック**

4. **メールアドレスの確認**
   - 登録したメールアドレスにGitHubから確認メールが届きます。
   - メール内のリンクをクリックして、メールアドレスの確認を完了します。

これでGitHubアカウントの作成は完了です！

## 2.2 GitHub Copilotの設定

GitHub Copilotは、**AIがプログラミングを手伝ってくれる便利なツール**です。
コードを書いている途中で、次に書きそうなコードを予測して提案してくれます。
まるで、経験豊富なプログラマーが隣でアドバイスをくれているような感覚です。
2025/01/04現在では、o-1やClaude 3.5 sonnetを回数制限はありますが、無料で使うことができます。

### 設定手順

1. **GitHub Copilotのページにアクセス**
   - [GitHub Copilot](https://github.com/features/copilot) にアクセスします。

2. **「Start my free trial」をクリック**
   - あとは表示のとおりに手続き 

## 2.3 Git（作業を記録するツール）のセットアップ

Gitは、プログラムの変更を記録するためのツールです。
デジタルカメラのように、作業の記録を残すことができます。
例えば、プログラムを書き換えて動かなくなった時、Gitがあれば、前の動いていた状態に戻すことができます。
Gitを使って保存したプログラム（写真）を共有するのがGitHub（SNS）という関係性です。

### インストールの仕方

#### Windowsの人
1. **Git for Windowsのサイトにアクセス**
   - [Git for Windows](https://gitforwindows.org/) にアクセスします。

2. **「Download」ボタンをクリック**
   - 大きな「Download」ボタンをクリックすると、インストーラーがダウンロードされます。

3. **インストーラーを実行**
   - ダウンロードしたファイルをダブルクリックして実行します。

4. **インストール画面の指示に従う**
   - 基本的には「Next」を何度か押していけばOKです。
   - 途中で設定項目がいくつか出てきますが、わからない場合はそのまま「Next」で進めて大丈夫です。

#### Macの人
1. **「ターミナル」を開く**
   - Finderを開き、「アプリケーション」フォルダの中の「ユーティリティ」フォルダを開きます。
   - 「ターミナル」をダブルクリックして起動します。

2. **Gitがインストールされているか確認**
   - ターミナルに以下のコマンドを入力して、Enterキーを押します。
     ```bash
     git --version
     ```

3. **インストールされていなければインストール**
   - `git --version` を実行した時に、`command not found: git` のようなエラーメッセージが表示された場合は、Gitがインストールされていません。
   - その場合は、以下のコマンドをターミナルに入力して、Enterキーを押します。
     ```bash
     xcode-select --install
     ```
   - 途中で、インストールを確認するメッセージが表示されたら、「Install」をクリックします。
   - インストールには少し時間がかかります。

### 初期設定（GitHubとの連携）

GitとGitHubを連携させて、作業を記録・共有できるようにします：

1. **ターミナル（またはGit Bash）を開く**
   - Windowsの人：デスクトップの「Git Bash」アイコンをダブルクリックします。
   - Macの人：「ターミナル」アプリを起動します。

2. **ユーザー名とメールアドレスを設定**
   - 以下のコマンドを順番に入力します。`あなたの名前` と `あなたのメールアドレス` の部分は、GitHubに登録したものに置き換えてください。
     ```bash
     # 1. GitHubで登録した名前を設定
     git config --global user.name "あなたの名前"

     # 2. GitHubで登録したメールアドレスを設定
     git config --global user.email "あなたのメールアドレス"
     ```

これでGitのインストールと初期設定は完了です！

## 2.4 R（データ分析用の言語）のインストール

データ分析に使用するR言語をインストールします。
R言語は、データを分析したり、グラフを作ったりするためのプログラミング言語です。

### インストール手順

1. **R公式サイトにアクセス**
   - [R公式サイト](https://cran.r-project.org/) にアクセスします。

2. **インストーラーをダウンロード**
   - **Windowsの人**: 「Download R for Windows」→「base」→「Download R-x.x.x for Windows」（x.x.xはバージョン番号）をクリックして、インストーラーをダウンロードします。
   - **Macの人**: 「Download R for macOS」→ 最新版のpkgファイル（例：R-4.x.x.pkg）をクリックして、インストーラーをダウンロードします。

3. **インストーラーを実行**
   - ダウンロードしたインストーラーをダブルクリックして実行します。

4. **インストール画面の指示に従う**
   - 基本的には「次へ」や「続ける」を何度か押していけばOKです。
   - 途中で設定項目がいくつか出てきますが、わからない場合はそのまま「次へ」や「続ける」で進めて大丈夫です。

5. **追加パッケージを入れる**
   - Rのターミナル(>が出てくる画面)に ```install.packages('languageserver')```   を入れて実行

これでR言語のインストールは完了です！

## 2.5 VS Code（プログラムを書く場所）のセットアップ

VS Codeは、プログラムを書くための高機能なメモ帳です。
普通のメモ帳と違って、プログラムを書くのに便利な機能がたくさんついています。
例えば、コードの色分け、入力補完、エラーチェックなど、プログラミングを効率的に行うための機能が充実しています。

### インストールの仕方

1. **VS Code公式サイトにアクセス**
   - [VS Code公式サイト](https://code.visualstudio.com/) にアクセスします。

2. **「Download」ボタンをクリック**
   - **Windowsの人**: 「Download for Windows」ボタンをクリックすると、インストーラーがダウンロードされます。
   - **Macの人**: 「Download Mac Universal」ボタンをクリックすると、インストーラーがダウンロードされます。

3. **インストーラーを実行**
   - ダウンロードしたファイルをダブルクリックして実行します。

4. **インストール画面の指示に従う**
   - 基本的には「次へ」や「続ける」を何度か押していけばOKです。
   - 途中で設定項目がいくつか出てきますが、わからない場合はそのまま「次へ」や「続ける」で進めて大丈夫です。

### 日本語にする

最初は英語で表示されますが、日本語に変更できます：

1. **VS Codeを起動**
   - インストールしたVS Codeを起動します。

2. **拡張機能を開く**
   - 左側のアクティビティバーにある「Extensions」（拡張機能）アイコン（四角が4つ並んだアイコン）をクリックします。

3. **日本語言語パックをインストール**
   - 検索バーに「Japanese」と入力します。
   - 「Japanese Language Pack for Visual Studio Code」を選択して、「Install」ボタンをクリックします。

4. **VS Codeを再起動**
   - インストールが完了したら、VS Codeを一度終了して、もう一度起動します。

これでVS Codeが日本語で表示されるようになります！

### 便利な機能を追加する

VS Codeは、必要な機能を追加できます。
以下の機能を順番に追加していきましょう：

#### R言語を使えるようにする（Rをインストール済みであることが前提です）
1. 左側のパズルのピースアイコンをクリック
2. 以下の2つを順番にインストール：
   - 検索窓に「R Extension」→「R REditorSupport」とあるものを選ぶ →「Install」

#### GitとGitHubを使えるようにする
1. 同じくパズルのピースアイコンから：
   - 検索窓に「GitLens」→「Install」
   - 検索窓に「GitHub Pull Requests」→「Install」
   - 「GitHub Copilot」→「Install」

5. **VS CodeでGitHubアカウントにサインイン**
   - インストールが完了すると、VS Codeの右下にGitHubアカウントにサインインするよう促すメッセージが表示されます。
   - 「Sign in to GitHub」をクリックします。
   - ブラウザが開くので、GitHubアカウントでログインし、認証を完了します。

これでGitHub Copilotの基本設定は完了です！

### Copilot Chatの使い方

GitHub Copilotには、コードの提案機能に加えて、チャット機能があります。
このCopilot Chatを使うと、より柔軟にAIとやり取りしながらコードを書くことができます。

#### Copilot Chatの起動方法

1. **アイコンから起動**
   - VS Code左側のアクティビティバーにある「GitHub Copilot」アイコン（チャットのような形）をクリック
   - または、サイドバーの「GitHub Copilot」をクリック

2. **ショートカットキーで起動**
   - Windows: `Ctrl + Shift + i`
   - Mac: `Cmd + Shift + i`

#### Copilot Chatの基本的な使い方

1. **コードの説明を求める**
   - コードを選択して右クリック
   - 「Copilot」→「Explain This」を選択
   - または、チャットで「このコードを説明して」と入力

2. **コードの改善を依頼**
   - コードを選択して右クリック
   - 「Copilot」→「Fix This」を選択
   - または、チャットで「このコードを改善して」と入力

3. **新しいコードの作成を依頼**
   - チャットで「〜のようなコードを書いて」と入力
   - 例：「データを読み込んで平均値を計算するコードを書いて」

4. **エラーの解決を依頼**
   - エラーメッセージをコピー
   - チャットに貼り付けて「このエラーを解決して」と入力

#### チャットのコツ

1. **具体的に依頼する**
   ```
   「BMIが22以上と未満で2群に分けて、
   年齢、性別、血圧を比較する表を作って」
   ```

2. **段階的に改善を依頼**
   ```
   「平均値の後に標準偏差も追加して」
   「項目名を日本語に変更して」
   「p値も表示して」
   ```

3. **文脈を説明する**
   ```
   「医学論文用の表を作りたいので、
   数値は小数点以下1桁で、
   p値が0.05未満の場合は太字で表示して」
   ```

インストールが終わったら：
- VS Codeを一度終了
- もう一度起動する
これで新しい機能が使えるようになります！

## チェックポイント

以下の項目を確認してください：

- [ ] GitHubアカウントが作成され、Copilotが使用可能
- [ ] Gitがインストールされ、初期設定が完了している
- [ ] Rがインストールされている
- [ ] VS Codeがインストールされ、日本語化されている
- [ ] 必要な拡張機能がインストールされている

## 困ったときは

### よくある問題と解決方法

1. **VS Codeの拡張機能がインストールできないとき**
   - インターネットに接続されているか確認する
   - VS Codeを一度終了して、もう一度起動する
   - それでも解決しない場合は、PCを再起動する

2. **Gitのコマンドが動かないとき**
   - Windowsの場合：
     * スタートメニューから「Git Bash」を探して起動する
     * それでもダメなら、PCを再起動する
   - Macの場合：
     * ターミナルを開き直す
     * それでもダメなら、PCを再起動する

3. **GitHubにログインできないとき**
   - ユーザー名とパスワードを確認する
   - メールアドレスの確認が済んでいるか確認する
   - ブラウザのキャッシュをクリアしてみる

4. **RのPathが通っていないとき(Windowsのとき, Macもほぼ同様)**
   - まず、R.exeの配置場所を確認します。例として、「C:\Program Files\R\R-3.6.2\bin\x64\R.exe」
   - VS Code を起動します。VSCが起動したら、Ctrl+, を押して設定画面を開きます。
   - 設定画面上部の「Search Settings」に「R」と入力して検索します。
   - 左側の「Commonly Used」セクションの下にある「Extensions > R」の項目までスクロールします。
   -「R」の設定項目の中から「R > Rpath: Windows」を見つけます。ここに、ステップ1で確認したR.exeのパス（例: C:\Program Files\R\R-3.6.2\bin\x64\R.exe）を入力します。
   - 入力後、Ctrl+S を押して保存してください。もしくは、設定ペインを閉じる際に自動で保存される場合もあります。
   - 必要に応じて、同様の手順でRterm.exeのパスも設定しておきます。


### 解決しないときは
ChatGPTに質問してみましょう。エラーメッセージをそのままコピー＆ペーストして、
「このエラーの解決方法を教えてください」と聞いてみてください。

## 次のステップ

環境構築が完了したら、[次のセクション](../03-r-basics/README.md)に進んでください。
